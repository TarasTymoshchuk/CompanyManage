<section ng-controller="ListCtrl as listVm">

    <h4 class="text-center">{{listVm.tittle}}</h4>

    <div ng-if="listVm.messageToClient.info" class="container">
        <div class="col-xs-12 text-left">
            <a href="#/" class="btn">Refresh</a>
        </div>
        <div class="form-group">
            <label for="comment">{{listVm.errTittle}}</label>
            <textarea class="form-control"
                      rows="7"
                      readonly="true"
            >
        {{listVm.messageToClient.info}}
      </textarea>
        </div>
    </div>

    <table ng-if="!listVm.messageToClient.info" class="container text-center table table-responsive">
        <thead>
        <tr>
            <th class="text-center form-inline">
                Company name
            </th>
            <th class="text-center" colspan="0">Estimated earning</th>
            <th class="text-center" colspan="5">
                <a href="#/new"><i class="glyphicon glyphicon-plus"></i></a>
            </th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="company in listVm.companies.collections | filter:search | orderBy:'name'">
            <td class="text-center">{{company.name}}</td>
            <td class="text-center">{{company.income}}</td>

            <td class="text-center">
                <a href="#/tree/?id={{company._id.$oid}}"><i class="glyphicon glyphicon-link"></i></a>
            </td>
            <td class="text-center">
                <a href="#/edit/?id={{company._id.$oid}}"><i class="glyphicon glyphicon-pencil"></i></a>
            </td>
            <td class="text-center">
                <a href="#/unlink/?id={{company._id.$oid}}"><i class="glyphicon glyphicon-scissors"></i></a>
            </td>
            <td class="text-center">
                <a href="#/remove/?id={{company._id.$oid}}"><i class="glyphicon glyphicon-trash"></i></a>
            </td>

        </tr>
        </tbody>
    </table>
</section>
